plugins {
    id 'java'
    id 'jacoco'
}

group = 'com.sbi.epay'
version = '0.0.1'
description = 'Official java bindings for the SBI EPay API'

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

repositories {
    mavenCentral()
}

dependencies {
    // Test dependencies
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.mockito:mockito-inline:2.13.0'
    testImplementation 'org.json:json'

    // Main dependencies
    implementation 'com.squareup.okhttp3:okhttp:3.10.0'
    implementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'
    implementation 'org.json:json:20231013'
    implementation 'commons-codec:commons-codec:1.11'
    implementation 'org.apache.commons:commons-text:1.3'
}

jacoco {
    toolVersion = "0.8.7"
}

tasks.jacocoTestReport {
    reports {
        xml.required = true
        csv.required = false
        html.outputLocation = layout.buildDirectory.dir('jacocoHtml')
    }
}

tasks.withType(Javadoc) {
    options.encoding = 'UTF-8'
}

tasks.register('signArchives') {
    doLast {
        println 'Signing artifacts (simulated)'
    }
}
